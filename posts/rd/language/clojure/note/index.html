<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Clojure学习手记 | 宋惠龙的博客</title>
<meta name="keywords" content="Clojure, note, 笔记" />
<meta name="description" content="Clojure笔记。">
<meta name="author" content="DragonSong">
<link rel="canonical" href="https://redolog.github.io/posts/rd/language/clojure/note/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.9b6a269e23740841d8b96cd2194e50ec25f1f4e98207baa71c1350b9a5c3c238.css" integrity="sha256-m2omniN0CEHYuWzSGU5Q7CXx9OmCB7qnHBNQuaXDwjg=" rel="preload stylesheet" as="style">
<link rel="preload" href="/favicons/favicon16.ico" as="image">
<link rel="icon" href="https://redolog.github.io/favicons/favicon16.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://redolog.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://redolog.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://redolog.github.io/favicons/favicon_apple_touch.ico">
<link rel="mask-icon" href="https://redolog.github.io/favicons/favicon_apple_touch.ico">
<meta name="theme-color" content="#fff2f2">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Clojure学习手记" />
<meta property="og:description" content="Clojure笔记。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://redolog.github.io/posts/rd/language/clojure/note/" /><meta property="og:image" content="https://redolog.github.io/avatar.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-24T12:50:25&#43;08:00" />
<meta property="article:modified_time" content="2022-03-13T12:50:25&#43;08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://redolog.github.io/avatar.png"/>

<meta name="twitter:title" content="Clojure学习手记"/>
<meta name="twitter:description" content="Clojure笔记。"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://redolog.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Clojure学习手记",
      "item": "https://redolog.github.io/posts/rd/language/clojure/note/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Clojure学习手记",
  "name": "Clojure学习手记",
  "description": "Clojure笔记。\n",
  "keywords": [
    "Clojure", "note", "笔记"
  ],
  "articleBody": "Clojure笔记。\nRef https://github.com/redolog/hello-clojure 语法 basics basic 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 (ns basic (require '[clojure.repl :refer :all]) ) (def x 7) (doc +) (doc doc) ; apropos 支持根据string或者regex查询匹配到的函数 (apropos \"+\") ; (clojure.core/+ clojure.core/+' clojure.core/read+string clojure.spec.alpha/+ clojure.spec.alpha/rep+impl) ; find-doc 查询函数相关的文档 (find-doc \"trim\") \"------------------------- clojure.string/trim ([s]) Removes whitespace from both ends of string. ------------------------- clojure.string/trim-newline ([s]) Removes all trailing newline \\n or return \\r characters from string. Similar to Perl's chomp. ------------------------- clojure.string/triml ([s]) Removes whitespace from the left side of string. ------------------------- clojure.string/trimr ([s]) Removes whitespace from the right side of string. ------------------------- clojure.pprint/ltrim ([s c]) Trim all instances of c from the beginning of sequence s ------------------------- clojure.pprint/rtrim ([s c]) Trim all instances of c from the end of sequence s ------------------------- clojure.core/read+string ([] [stream] [stream eof-error? eof-value] [stream eof-error? eof-value recursive?] [opts stream]) Like read, and taking the same args. stream must be a LineNumberingPushbackReader. Returns a vector containing the object read and the (whitespace-trimmed) string read. ------------------------- clojure.core/subvec ([v start] [v start end]) Returns a persistent vector of the items in vector from start (inclusive) to end (exclusive). If end is not supplied, defaults to (count vector). This operation is O(1) and very fast, as the resulting vector shares structure with the original and no trimming is done. nil\" ; 使用 dir 查看指定namespace下的函数列表 (dir clojure.repl) \"apropos demunge dir dir-fn doc find-doc pst root-cause set-break-handler! source source-fn stack-element-str thread-stopper nil\" ; 使用 source 查看源码 (source dir) ; (defmacro dir ; \"Prints a sorted directory of public vars in a namespace\" ; [nsname] ; `(doseq [v# (dir-fn '~nsname)] ; (println v#))) (defn run [opts] (println \"x+1:\" (+ 1 x)) ; prn打印输出字符串类型 (prn \"one\\n\\ttwo\")) hello 1 2 3 4 5 6 7 8 9 10 11 12 13 (ns hello (:require [java-time :as t])) (defn time-str \"Returns a string representation of a datetime in the local time zone.\" [instant] (t/format (t/with-zone (t/formatter \"hh:mm a\") (t/zone-id)) instant)) (defn run [opts] (println \"Hello world, the time is\" (time-str (t/instant)))) namespace 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 (ns namespace (:require [clojure.string :as string]) (:require [clojure.java.io/writer :as ioWriter]) ) ;; namespace 命名空间 ;; 一种组织代码的维度； ;; 同时给定一个明确的名字，标识内部的功能； ;; 是 vars 变量的集合、上下文、容器。使用 . 连接，如 clojure.string，语法层面使用小写以及-进行分隔； ;; Vars ;; 变量，是名字与值的关联； ;; 使用 def 定义，但是宏使用 defn； ;; var在当前namespace中有效； ;; clojure 运行时使用 clojure.core/*ns* 跟踪当前 namespace，使用 in-ns 函数可以修改当前命名空间； ;; Loading ;; 除了提供一个命名的上下文，namespace还提供了命名空间中的代码被加载的查找机制。也就是对应路径path； ;; . period 成为目录分隔符； ;; hyphen 连字符变成下划线； ;; 添加 .clj 后缀； ;; 综上， com.test.our-app 包名 转换为我们的应用加载路径： com/test/our_app.clj 加载路径使用JVM的 classpath进行搜索。 ;; classpath就是一堆jar的目录 ;; 加载资源的过程： ;; 1. jvm搜索我们的classpath，根据上述的loadpath寻找相对路径中的文件。 ;; 假设classpath是 src:test ，那么加载路径loadpath会检查两个地方：src/com/test/our_app.clj test/com/test/our_app.clj ;; 加载代码有多重方式，最常用的是通过 require 。 ;; 由于使用require，大部分clojure项目都通过 namespace-file 1对1的方式进行创建。 ;;; 声明命名空间 Declaring namespaces ;; 大部分clojure文件对应一个命名空间，并且附带多个依赖。位置写于顶部，使用 ns这个宏命名： (ns com.some-example.my-app \"My app example\" (:require [clojure.set :as set] [clojure.string :as str])) ;; Refer 引用 ;; 可以使用refer的方式只引入某个namespace下的特定函数， ;; 比如 [clojure.set :refer [union intersection]] 只加载intersection，类似于java中的import static； ;; 引用java类 (ns com.some-example.my-app2 (:import [java.util Date UUID] [java.io File])) ;; 上例中，引入了 java.util包下的 Date UUID 以及 java.io 包下的File类。 flow-control 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 (ns flow_control (:require [clojure.string :as string]) (:require [clojure.java.io/writer :as ioWriter]) ) ;; 一般C系语言的流程控制，说白了就是if-else； ;; 但是clojure语言中，只有表达式。而流程控制，也是通过表达式的方式完成； ;; 好处：1.少了很多重复代码；2.减少了很多中间变量； ;; 流程控制的操作符也可以通过macro宏的方式进行拓展，我理解这里应该是操作符重载； ;;; if 最基础的条件表达式，携带一个条件 (str \"2 是个\" (if(even? 2) \"even 偶数\" \"odd 奇数\")) ;; \"2 是个even 偶数\" ;; ;; else分支可选 (if (true? false) \"永远是false\") ;; user=\u003e (if (true? false) \"永远是false\") ;;nil (if (true? false) \"永远是false\" \"永远能走到这个else分支上\") ;;; Truth ;;; clojure中，所有的值，逻辑上不是true就是false。而false的值，仅仅指的是false以及nil。 (comment \" user=\u003e (if true :truthy :falsey) :truthy user=\u003e (if (Object.) :truthy :falsey) ; objects are true :truthy user=\u003e (if [] :truthy :falsey) ; empty collections are true :truthy user=\u003e (if 0 :truthy :falsey) ; zero is true :truthy user=\u003e (if false :truthy :falsey) :falsey user=\u003e (if nil :truthy :falsey) :falsey \") ;; if do 语句，if语句仅仅能表达单个表达式，而do语句则能表达更多的块 block逻辑 ; 5是否偶数？ 如果是，打印even，如果不是，打印odd (if (even? 5) (do (println \"even\") true) (do (println \"odd\") false)) ;; when 语句，相当于是个swich case，或者if语句 (defn isPositive [num] ( (when (neg? num) (throw (RuntimeException. (str \"num must be positive: \" num))) ) ) ) ;; cond语句，相当于java中的多个if判断，无条件匹配时返回nil (let [x 5] (cond (\u003c x 2) \"x is less than 2\" (\u003c x 10) \"x is less than 10\")) ;; 这里相当于别的语言中的switch-case-default+模式匹配 (let [x 11] (cond (\u003c x 2) \"x is less than 2\" (\u003c x 10) \"x is less than 10\" :else \"x is greater than or equal to 10\")) ;; case语句，相当于别的语言中的switch-case，与cond不同的一点是，无条件匹配时抛出异常 (defn checkNumIs5Or10 [x] (case x 5 \"x is 5\" 10 \"x is 10\")) (comment \"user=\u003e (checkNumIs5Or10 5) \\\"x is 5\\\" user=\u003e (checkNumIs5Or10 52) Execution error (IllegalArgumentException) at user/checkNumIs5Or10 (REPL:2). No matching clause: 52\") ;; case else (defn checkNumIs5Or10WithElse [x] (case x 5 \"x is 5\" 10 \"x is 10\" \"x不在5 10之中\")) ;; Side effect: a change in the program's state caused by an expression or a function call, ;; or modification of a global variable in a procedure or function. ;; Program state: values of variables or status of I/O. ;;; Iteration for Side Effects ;; dotimes 重复n次执行特定表达式，最后一次返回nil (dotimes [i 3] (println i)) ;; doseq 在一个序列范围内迭代； (doseq [n (range 3)] (println n)) ;; doseq with multiple bindings permutation【排列】 (doseq [letter [:a :b] number (range 3)] ; list of 0,1,2 (prn [letter number]) ) \"[:a 0] [:a 1] [:a 2] [:b 0] [:b 1] [:b 2] nil\" ;;; for循环 (for [letter [:a :b] number (range 3)];list of 0,1,2 [letter number] ) ;; ([:a 0] [:a 1] [:a 2] [:b 0] [:b 1] [:b 2]) ;;; Recursion 递归 recur视为一种低级的基础设施 ;;; Functional looping construct ;;loop defines bindings ;;recur re-executes loop with new bindings ;;Prefer higher-order library functions instead (loop [i 0] (if (\u003c i 10) (recur (inc i)) i)) ;; defn定义函数 (defn increase [i] (if (\u003c i 10) (recur (inc i)) i)) ;;; 异常 Exceptions ; try catch finally (try (/ 2 1) (catch ArithmeticException e \"算术异常\") (finally (println \"finally块\")) ) ; throw exception (try (throw (Exception. \"异常消息\")) (catch Exception e (.getMessage e)) ) ; Exceptions with Clojure data ; ex-info 中使用map存储具体消息 ; 使用 ex-data 从map中取消息，没有返回nil (try (throw (ex-info \"我们自制的一个异常消息\" {:detail 666})) (catch Exception e (prn (:detail(ex-data e))) ) ) ; 666 ; nil ;; with-open 打开文件，目测与java、python的try-with-resource是一回事 (let [f (ioWriter \"/Users/dragonsong/Desktop/clj.txt\")] (try ; 写点字符进去 (.write f \"随便写点文字\") (finally ; 最后关闭文件流 (.close f) ) ) ) (let [f (clojure.java.io/writer \"/Users/dragonsong/Desktop/clj.txt\")] (try ; 写点字符进去 (.write f \"随便写点文字\") (finally ; 最后关闭文件流 (.close f) ) ) ) ;; ➜ Desktop cat clj.txt ;; 随便写点文字% (with-open [f (clojure.java.io/writer \"/Users/dragonsong/Desktop/clj.txt\")] (.write f \"用with-open写点字符进去\") ) ;; ➜ Desktop cat clj.txt ; 用with-open写点字符进去% (with-open [f (clojure.java.io/writer \"/Users/dragonsong/Desktop/clj.txt\")] (.write f \"用with-open写点字符进去\") ) function 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 (ns function (:require [clojure.string :as string])) ;; name params body ;; ----- ------ ------------------- (defn greet [name] (str \"Hello, \" name) ) ;;(def greet (fn [name] (str \"Hello, \" name)) ;;defn=def+fn ;; Multi-arity functions (defn messenger ([] (messenger \"Hello world!\")) ([msg] (println msg))) ;; Variadic functions ;; 可变参数，用\u0026标识可变参数的开始 (defn hello [greeting \u0026 who] (println greeting who)) ;; user=\u003e (hello 1 2 3 44 555) ;;1 (2 3 44 555) ;;nil ;; ;;Anonymous Functions (fn [message] (println message) ) ;; operation (function) argument ;; -------------------------------- -------------- ( (fn [message] (println message)) \"Hello world!\" ) ;; Hello world! ;; Anonymous function syntax ;;% is used for a single parameter 单个参数 ;;%1, %2, %3, etc are used for multiple parameters 多参数绑定位置 ;;%\u0026 is used for any remaining (variadic) parameters 可变参数标志 ;; Equivalent to: (fn [x] (+ 6 x)) #(+ 6 %) ;; Equivalent to: (fn [x y] (+ x y)) #(+ %1 %2) ;; Equivalent to: (fn [x y \u0026 zs] (println x y zs)) #(println %1 %2 %\u0026) ; #([%]) ; (fn [x] ([x])) ; ;; Instead do this: #(vector %) (fn [x] [x]) vector ;;Applying function apply 函数，相当于调用函数的另一种写法 \"(apply f '(1 2 3 4)) ;; same as (f 1 2 3 4) (apply f 1 '(2 3 4)) ;; same as (f 1 2 3 4) (apply f 1 2 '(3 4)) ;; same as (f 1 2 3 4) (apply f 1 2 3 '(4)) ;; same as (f 1 2 3 4)\" (defn shape [\u0026 coords] (println \"coords is :\"(coords))) (defn plotxy ([shape coords] (println (shape)\" and \"(coords)))) ;; coords is [x y] ; AVOID ; (defn plot [shape coords] ; (plotxy shape (first coords) (second coords))) (defn plot [shape coords] (apply plotxy shape coords)) ; Locals and Closures ;; bindings name is defined here ;; ------------ ---------------------- ;(let [name value] (code that uses name)) (let [x 1 y 2] (+ x y)) (defn capitalizeMsg [msg] (let [a 7 b 5 c (string/capitalize msg)] (println a b c) ) ;; end of let scope ) ;; end of function (defn messenger-builder [greeting] (fn [who] (println greeting who))) ; closes over greeting ;; greeting provided here, then goes out of scope (def hello-er (messenger-builder \"Hello\")) ;; greeting value still available because hello-er is a closure (hello-er \"world!\") ;; Hello world! ;; ;; ;; Java Interop ;;; 对象实例化：new Widget(\"foo\") vs (Widget. \"foo\") ;;; 对象方法： rnd.nextInt() vs (.nextInt rnd) ;;; 对象字段：object.field vs (.-field object) ;;; 静态方法：Math.sqrt(25) vs (Math/sqrt 25) ;;; 静态字段：Math.PI vs Math/PI ;;; java方法不等同于clojure函数 ;;; 不能存储、不能传递 ;;; 但是可以包装一层，如下： (fn [obj] (.length obj)) #(.length %) collection 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 (ns collection (:require [clojure.string :as string])) ;;; Vector 数组list [1 3 4] (get [\"abc\" false 99] 0) (get [\"abc\" false 99] 1) (get [\"abc\" false 99] 2) ;;; size--\u003ecount (count [1 3 4 5 6 8]) ;; 非法下标返回 nil (get [\"abc\" false 99] 14) ;; 构造器 (vector 1 2 3 4) ;; 添加元素 conj=conjoin (conj [1 2 3]4 5 6) ;; 不可变：clojure的集合默认不可变，使用conj函数添加元素时，返回的是一个新的集合，原数组不变 ;; 不可变的第二个含义：字符串、数字，使用值进行比较相等性 (def ourList [1 2 3]) (conj ourList 4 5 6) \"user=\u003e (def ourList [1 2 3]) #'user/ourList user=\u003e (conj ourList 4 5 6) [1 2 3 4 5 6] user=\u003e ourList [1 2 3]\" ;;; Lists 链表 ;;; 添加元素时，链表添加到集合头部，而数组list添加到尾部 (def cards '(10 :ace :jack 9)) ;;; 链表只能访问头部 first 或者使用rest访问除了头部的其他元素 (first cards) (rest cards) ;; 添加元素 conj==conjoin (conj cards :queen) ;;; lists链表可以用来做栈 stack ;;; 使用peek pop来访问头部与尾部所有元素 (def stack '(:a :b :c :d)) (peek stack) (pop stack) ;;; Sets 集合 ;;; 数学上的集合；无需；元素无重复； ;;; 理想使用场景为判断集合中有无对应元素，或者去除某个元素 (def players #{\"周杰伦\",\"王力宏\",\"罗志祥\",\"薛之谦\",}) (conj players \"陈建州\") ;; 去除元素使用 disj函数 disj==disjoin (disj players \"周杰伦\") (contains? players \"周杰伦\") ;;; Sorted sets 有序集合 ;;; 根据一个可排序函数进行元素排序的集合。默认以natural自然排序。 (conj (sorted-set) \"周杰伦\" \"王力宏\" \"罗志祥\" \"薛之谦\") (conj (sorted-set) \"D\" \"C\" \"B\" \"A\") ;; 通过 sorted-set-by 指定排序规则 ;; ;; 使用 into 把一个集合放到另一个集合 (def originalSet #{\"a\",\"B\",\"C\"}) (def newArray [\"d\",\"e\",\"F\"]) (into originalSet newArray) ;;; Maps dict or hashmap结构 (def name2Score {\"乔治\" 100 \"赵总\" 500 \"我\" 100 }) ;; 打印时clojure会把每一对KV之间加一个逗号，这是为了可读性设计。同时clojure中逗号与空格表示一致。 \"user=\u003e (println name2Score) {乔治 100, 赵总 500, 我 100} nil\" ;; 下面这个map加了逗号，效果一致 (def name2ScoreWithComma {\"乔治\" 100, \"赵总\" 500, \"我\" 100 }) ;; 添加元素，使用assoc函数，其中 assoc==associate (assoc name2Score \"冀哥\" 100000) ;; key如果已存在，value会直接替换 (assoc name2Score \"乔治\" 100000) ;; 删除kv对，使用 dissoc 其中 dissoc==dissociate (dissoc name2Score \"我\") ;; 根据key获取value (get name2Score \"乔治\") ;; clojure中的map，定义与函数一致，所以将其视作函数即可 (def directions {:north 0,:east 1,:south 2,:west 3}) (directions :north) ;; key为nil时返回nil ;; user=\u003e (num2Direction nil) ;; nil ;; map为nil时报NPE \"user=\u003e (def bad-lookup-map nil) #'user/bad-lookup-map user=\u003e (bad-lookup-map 1) Execution error (NullPointerException) at user/eval268 (REPL:1). null\" ;; 支持设置默认值 (get name2Score \"乔治2\" 666) ;;666 (name2Score \"乔治2\" 666) ;; 检查是否包含：contains或者find函数 (contains? name2Score \"乔治\") \"user=\u003e (contains? name2Score \\\"乔治\\\") true\" (find name2Score \"我\") \"[\\\"我\\\" 100]\" ;; 获取keys 或者values （类似于java的entry中的内容） (keys name2Score) (vals name2Score) ;; 根据sets可以转成一个map，通过调用zipmap函数即可 (zipmap players (repeat 0)) ;; {\"罗志祥\" 0, \"周杰伦\" 0, \"王力宏\" 0, \"薛之谦\" 0} ;; user=\u003e (zipmap 渣男集合 (repeat 0)) ; {\"罗志祥\" 0, \"周杰伦\" 0, \"王力宏\" 0, \"薛之谦\" 0} ; user=\u003e (zipmap 渣男集合 (repeat 1)) ; {\"罗志祥\" 1, \"周杰伦\" 1, \"王力宏\" 1, \"薛之谦\" 1} ; user=\u003e (zipmap 渣男集合 (repeat 2)) ; {\"罗志祥\" 2, \"周杰伦\" 2, \"王力宏\" 2, \"薛之谦\" 2} ; ; todo map reduce函数 ; 合并map，使用merge函数 (def newName2Score {\"龙露\" 100,\"我\" 100}) (merge name2Score newName2Score) ; key冲突时，默认新值替换旧址 ; 可指定冲突函数，调用 merge-with (merge-with + name2Score newName2Score) deps.edn {:deps {clojure.java-time/clojure.java-time {:mvn/version \"0.3.2\"}}} 完",
  "wordCount" : "5245",
  "inLanguage": "en",
  "datePublished": "2022-01-24T12:50:25+08:00",
  "dateModified": "2022-03-13T12:50:25+08:00",
  "author":[{
    "@type": "Person",
    "name": "DragonSong"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://redolog.github.io/posts/rd/language/clojure/note/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "宋惠龙的博客",
    "logo": {
      "@type": "ImageObject",
      "url": "https://redolog.github.io/favicons/favicon16.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://redolog.github.io/" accesskey="h" title="宋惠龙的博客 (Alt + H)">
                <img src="https://redolog.github.io/favicons/favicon16.ico" alt="logo" aria-label="logo"
                    height="35">宋惠龙的博客</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://redolog.github.io/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://redolog.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://redolog.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/redolog" title="GitHub">
                    <span><i class='fab fa-github fa-fw'></i></span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://redolog.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://redolog.github.io/posts/">Posts</a></div>
    <h1 class="post-title">
      Clojure学习手记
    </h1>
    <div class="post-meta"><span title='2022-01-24 12:50:25 +0800 CST'>January 24, 2022</span>&nbsp;·&nbsp;11 min&nbsp;·&nbsp;DragonSong

</div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">Table of Contents</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#ref" aria-label="Ref">Ref</a></li>
                    <li>
                        <a href="#%e8%af%ad%e6%b3%95" aria-label="语法">语法</a><ul>
                            
                    <li>
                        <a href="#basics" aria-label="basics">basics</a><ul>
                            
                    <li>
                        <a href="#basic" aria-label="basic">basic</a></li>
                    <li>
                        <a href="#hello" aria-label="hello">hello</a></li>
                    <li>
                        <a href="#namespace" aria-label="namespace">namespace</a></li>
                    <li>
                        <a href="#flow-control" aria-label="flow-control">flow-control</a></li>
                    <li>
                        <a href="#function" aria-label="function">function</a></li>
                    <li>
                        <a href="#collection" aria-label="collection">collection</a></li>
                    <li>
                        <a href="#depsedn" aria-label="deps.edn">deps.edn</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#%e5%ae%8c" aria-label="完">完</a>
                    </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><p>Clojure笔记。</p>
<h1 id="ref">Ref<a hidden class="anchor" aria-hidden="true" href="#ref">#</a></h1>
<ul>
<li><a href="https://github.com/redolog/hello-clojure">https://github.com/redolog/hello-clojure</a></li>
</ul>
<h1 id="语法">语法<a hidden class="anchor" aria-hidden="true" href="#语法">#</a></h1>
<h2 id="basics">basics<a hidden class="anchor" aria-hidden="true" href="#basics">#</a></h2>
<h3 id="basic">basic<a hidden class="anchor" aria-hidden="true" href="#basic">#</a></h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">84
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clj" data-lang="clj"><span style="display:flex;"><span>(<span style="color:#66d9ef">ns </span>basic
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">require</span> <span style="color:#f92672">&#39;</span>[clojure.repl <span style="color:#e6db74">:refer</span> <span style="color:#e6db74">:all</span>])
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>x <span style="color:#ae81ff">7</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(doc +)
</span></span><span style="display:flex;"><span>(doc doc)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; apropos 支持根据string或者regex查询匹配到的函数</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">apropos</span> <span style="color:#e6db74">&#34;+&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">; (clojure.core/+ clojure.core/+&#39; clojure.core/read+string clojure.spec.alpha/+ clojure.spec.alpha/rep+impl)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; find-doc 查询函数相关的文档</span>
</span></span><span style="display:flex;"><span>(find-doc <span style="color:#e6db74">&#34;trim&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;-------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">clojure.string/trim
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">([s])
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  Removes whitespace from both ends of string.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">clojure.string/trim-newline
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">([s])
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  Removes all trailing newline \n or return \r characters from
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  string.  Similar to Perl&#39;s chomp.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">clojure.string/triml
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">([s])
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  Removes whitespace from the left side of string.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">clojure.string/trimr
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">([s])
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  Removes whitespace from the right side of string.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">clojure.pprint/ltrim
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">([s c])
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  Trim all instances of c from the beginning of sequence s
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">clojure.pprint/rtrim
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">([s c])
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  Trim all instances of c from the end of sequence s
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">clojure.core/read+string
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">([] [stream] [stream eof-error? eof-value] [stream eof-error? eof-value recursive?] [opts stream])
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  Like read, and taking the same args. stream must be a LineNumberingPushbackReader.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  Returns a vector containing the object read and the (whitespace-trimmed) string read.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">clojure.core/subvec
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">([v start] [v start end])
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  Returns a persistent vector of the items in vector from
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  start (inclusive) to end (exclusive).  If end is not supplied,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  defaults to (count vector). This operation is O(1) and very fast, as
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  the resulting vector shares structure with the original and no
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  trimming is done.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">nil&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; 使用 dir 查看指定namespace下的函数列表</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">dir</span> clojure.repl)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;apropos
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">demunge
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">dir
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">dir-fn
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">doc
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">find-doc
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">pst
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">root-cause
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">set-break-handler!
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">source
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">source-fn
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">stack-element-str
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">thread-stopper
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">nil&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; 使用 source 查看源码</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">source</span> dir)
</span></span><span style="display:flex;"><span><span style="color:#75715e">; (defmacro dir</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">; &#34;Prints a sorted directory of public vars in a namespace&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">; [nsname]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">; `(doseq [v# (dir-fn &#39;~nsname)]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">;  (println v#)))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>run [opts]
</span></span><span style="display:flex;"><span>  (println <span style="color:#e6db74">&#34;x+1:&#34;</span> (+ <span style="color:#ae81ff">1</span> x))
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">; prn打印输出字符串类型</span>
</span></span><span style="display:flex;"><span>  (prn <span style="color:#e6db74">&#34;one\n\ttwo&#34;</span>))
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="hello">hello<a hidden class="anchor" aria-hidden="true" href="#hello">#</a></h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clj" data-lang="clj"><span style="display:flex;"><span>(<span style="color:#66d9ef">ns </span>hello
</span></span><span style="display:flex;"><span>    (<span style="color:#e6db74">:require</span> [java-time <span style="color:#e6db74">:as</span> t]))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>time-str
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;Returns a string representation of a datetime in the local time zone.&#34;</span>
</span></span><span style="display:flex;"><span>      [instant]
</span></span><span style="display:flex;"><span>      (<span style="color:#a6e22e">t/format</span>
</span></span><span style="display:flex;"><span>            (<span style="color:#a6e22e">t/with-zone</span> (<span style="color:#a6e22e">t/formatter</span> <span style="color:#e6db74">&#34;hh:mm a&#34;</span>) (<span style="color:#a6e22e">t/zone-id</span>))
</span></span><span style="display:flex;"><span>            instant))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>run [opts]
</span></span><span style="display:flex;"><span>    (println <span style="color:#e6db74">&#34;Hello world, the time is&#34;</span> (<span style="color:#a6e22e">time-str</span> (<span style="color:#a6e22e">t/instant</span>))))
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="namespace">namespace<a hidden class="anchor" aria-hidden="true" href="#namespace">#</a></h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clj" data-lang="clj"><span style="display:flex;"><span>(<span style="color:#66d9ef">ns </span>namespace
</span></span><span style="display:flex;"><span>  (<span style="color:#e6db74">:require</span> [clojure.string <span style="color:#e6db74">:as</span> string])
</span></span><span style="display:flex;"><span>  (<span style="color:#e6db74">:require</span> [clojure.java.io/writer <span style="color:#e6db74">:as</span> ioWriter])
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; namespace 命名空间</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 一种组织代码的维度；</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 同时给定一个明确的名字，标识内部的功能；</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 是 vars 变量的集合、上下文、容器。使用 . 连接，如 clojure.string，语法层面使用小写以及-进行分隔；</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Vars </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 变量，是名字与值的关联；</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 使用 def 定义，但是宏使用 defn；</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; var在当前namespace中有效；</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; clojure 运行时使用 clojure.core/*ns* 跟踪当前 namespace，使用 in-ns 函数可以修改当前命名空间；</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Loading</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 除了提供一个命名的上下文，namespace还提供了命名空间中的代码被加载的查找机制。也就是对应路径path；</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; . period 成为目录分隔符；</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; hyphen 连字符变成下划线；</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 添加 .clj 后缀；</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 综上， com.test.our-app 包名 转换为我们的应用加载路径： com/test/our_app.clj 加载路径使用JVM的 classpath进行搜索。</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; classpath就是一堆jar的目录</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 加载资源的过程：</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 1. jvm搜索我们的classpath，根据上述的loadpath寻找相对路径中的文件。</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 假设classpath是 src:test ，那么加载路径loadpath会检查两个地方：src/com/test/our_app.clj  test/com/test/our_app.clj</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 加载代码有多重方式，最常用的是通过 require 。</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 由于使用require，大部分clojure项目都通过 namespace-file 1对1的方式进行创建。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 声明命名空间 Declaring namespaces</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 大部分clojure文件对应一个命名空间，并且附带多个依赖。位置写于顶部，使用 ns这个宏命名：</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">ns </span>com.some-example.my-app
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;My app example&#34;</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#e6db74">:require</span>
</span></span><span style="display:flex;"><span>    [clojure.set <span style="color:#e6db74">:as</span> set]
</span></span><span style="display:flex;"><span>    [clojure.string <span style="color:#e6db74">:as</span> str]))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Refer 引用</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 可以使用refer的方式只引入某个namespace下的特定函数，</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 比如 [clojure.set :refer [union intersection]] 只加载intersection，类似于java中的import static；</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 引用java类</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">ns </span>com.some-example.my-app2
</span></span><span style="display:flex;"><span>  (<span style="color:#e6db74">:import</span>
</span></span><span style="display:flex;"><span>    [java.util Date UUID]
</span></span><span style="display:flex;"><span>	[java.io File]))
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 上例中，引入了 java.util包下的 Date UUID 以及 java.io 包下的File类。</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="flow-control">flow-control<a hidden class="anchor" aria-hidden="true" href="#flow-control">#</a></h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">186
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clj" data-lang="clj"><span style="display:flex;"><span>(<span style="color:#66d9ef">ns </span>flow_control
</span></span><span style="display:flex;"><span>  (<span style="color:#e6db74">:require</span> [clojure.string <span style="color:#e6db74">:as</span> string])
</span></span><span style="display:flex;"><span>  (<span style="color:#e6db74">:require</span> [clojure.java.io/writer <span style="color:#e6db74">:as</span> ioWriter])
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 一般C系语言的流程控制，说白了就是if-else；</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 但是clojure语言中，只有表达式。而流程控制，也是通过表达式的方式完成；</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 好处：1.少了很多重复代码；2.减少了很多中间变量；</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 流程控制的操作符也可以通过macro宏的方式进行拓展，我理解这里应该是操作符重载；</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; if 最基础的条件表达式，携带一个条件</span>
</span></span><span style="display:flex;"><span>(str <span style="color:#e6db74">&#34;2 是个&#34;</span> (<span style="color:#a6e22e">if</span>(<span style="color:#a6e22e">even?</span> <span style="color:#ae81ff">2</span>) <span style="color:#e6db74">&#34;even 偶数&#34;</span> <span style="color:#e6db74">&#34;odd 奇数&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; &#34;2 是个even 偶数&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; else分支可选</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">if </span>(true? false) <span style="color:#e6db74">&#34;永远是false&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; user=&gt; (if (true? false) &#34;永远是false&#34;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;nil</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">if </span>(true? false) <span style="color:#e6db74">&#34;永远是false&#34;</span> <span style="color:#e6db74">&#34;永远能走到这个else分支上&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; Truth</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; clojure中，所有的值，逻辑上不是true就是false。而false的值，仅仅指的是false以及nil。</span>
</span></span><span style="display:flex;"><span>(comment <span style="color:#e6db74">&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">user=&gt; (if true :truthy :falsey)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">:truthy
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">user=&gt; (if (Object.) :truthy :falsey) ; objects are true
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">:truthy
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">user=&gt; (if [] :truthy :falsey) ; empty collections are true
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">:truthy
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">user=&gt; (if 0 :truthy :falsey) ; zero is true
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">:truthy
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">user=&gt; (if false :truthy :falsey)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">:falsey
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">user=&gt; (if nil :truthy :falsey)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">:falsey
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  &#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; if do 语句，if语句仅仅能表达单个表达式，而do语句则能表达更多的块 block逻辑</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; 5是否偶数？ 如果是，打印even，如果不是，打印odd</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">if </span>(<span style="color:#a6e22e">even?</span> <span style="color:#ae81ff">5</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#66d9ef">do </span>(println <span style="color:#e6db74">&#34;even&#34;</span>)
</span></span><span style="display:flex;"><span>      true)
</span></span><span style="display:flex;"><span>  (<span style="color:#66d9ef">do </span>(println <span style="color:#e6db74">&#34;odd&#34;</span>)
</span></span><span style="display:flex;"><span>      false))
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; when 语句，相当于是个swich case，或者if语句</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>isPositive  [num]  (
</span></span><span style="display:flex;"><span>    (when (neg? num)
</span></span><span style="display:flex;"><span>         (<span style="color:#a6e22e">throw</span> (<span style="color:#a6e22e">RuntimeException.</span> (str <span style="color:#e6db74">&#34;num must be positive: &#34;</span> num)))
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>  ) 
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; cond语句，相当于java中的多个if判断，无条件匹配时返回nil</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">let </span>[x <span style="color:#ae81ff">5</span>]
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">cond</span>
</span></span><span style="display:flex;"><span>    (&lt; x <span style="color:#ae81ff">2</span>) <span style="color:#e6db74">&#34;x is less than 2&#34;</span>
</span></span><span style="display:flex;"><span>    (&lt; x <span style="color:#ae81ff">10</span>) <span style="color:#e6db74">&#34;x is less than 10&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 这里相当于别的语言中的switch-case-default+模式匹配</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">let </span>[x <span style="color:#ae81ff">11</span>]
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">cond</span>
</span></span><span style="display:flex;"><span>    (&lt; x <span style="color:#ae81ff">2</span>)  <span style="color:#e6db74">&#34;x is less than 2&#34;</span>
</span></span><span style="display:flex;"><span>    (&lt; x <span style="color:#ae81ff">10</span>) <span style="color:#e6db74">&#34;x is less than 10&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">:else</span>  <span style="color:#e6db74">&#34;x is greater than or equal to 10&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; case语句，相当于别的语言中的switch-case，与cond不同的一点是，无条件匹配时抛出异常</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>checkNumIs5Or10 [x]
</span></span><span style="display:flex;"><span>         (<span style="color:#a6e22e">case</span> x
</span></span><span style="display:flex;"><span>           <span style="color:#ae81ff">5</span> <span style="color:#e6db74">&#34;x is 5&#34;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#ae81ff">10</span> <span style="color:#e6db74">&#34;x is 10&#34;</span>))
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">comment</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;user=&gt; (checkNumIs5Or10 5)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">\&#34;x is 5\&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">user=&gt; (checkNumIs5Or10 52)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Execution error (IllegalArgumentException) at user/checkNumIs5Or10 (REPL:2).
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">No matching clause: 52&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; case else</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>checkNumIs5Or10WithElse [x]
</span></span><span style="display:flex;"><span>         (<span style="color:#a6e22e">case</span> x
</span></span><span style="display:flex;"><span>           <span style="color:#ae81ff">5</span> <span style="color:#e6db74">&#34;x is 5&#34;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#ae81ff">10</span> <span style="color:#e6db74">&#34;x is 10&#34;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#e6db74">&#34;x不在5 10之中&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Side effect: a change in the program&#39;s state caused by an expression or a function call, </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; or modification of a global variable in a procedure or function. </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Program state: values of variables or status of I/O.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; Iteration for Side Effects</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; dotimes 重复n次执行特定表达式，最后一次返回nil</span>
</span></span><span style="display:flex;"><span>(dotimes [i <span style="color:#ae81ff">3</span>] (println i))
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; doseq 在一个序列范围内迭代；</span>
</span></span><span style="display:flex;"><span>(doseq [n (range <span style="color:#ae81ff">3</span>)] (println n))
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; doseq with multiple bindings permutation【排列】</span>
</span></span><span style="display:flex;"><span>(doseq [letter [<span style="color:#e6db74">:a</span> <span style="color:#e6db74">:b</span>]
</span></span><span style="display:flex;"><span>        number (range <span style="color:#ae81ff">3</span>)] <span style="color:#75715e">; list of 0,1,2</span>
</span></span><span style="display:flex;"><span>        (prn [letter number])
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;[:a 0]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[:a 1]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[:a 2]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[:b 0]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[:b 1]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[:b 2]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">nil&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; for循环</span>
</span></span><span style="display:flex;"><span>(for [letter [<span style="color:#e6db74">:a</span> <span style="color:#e6db74">:b</span>]
</span></span><span style="display:flex;"><span>      number (range <span style="color:#ae81ff">3</span>)]<span style="color:#75715e">;list of 0,1,2</span>
</span></span><span style="display:flex;"><span>      [letter number]
</span></span><span style="display:flex;"><span>      )
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; ([:a 0] [:a 1] [:a 2] [:b 0] [:b 1] [:b 2])</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; Recursion 递归 recur视为一种低级的基础设施</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; Functional looping construct</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;loop defines bindings</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;recur re-executes loop with new bindings</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;Prefer higher-order library functions instead</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">loop </span>[i <span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>  (<span style="color:#66d9ef">if </span>(&lt; i <span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">recur</span> (inc i))
</span></span><span style="display:flex;"><span>    i))
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; defn定义函数</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>increase [i]
</span></span><span style="display:flex;"><span>  (<span style="color:#66d9ef">if </span>(&lt; i <span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">recur</span> (inc i))
</span></span><span style="display:flex;"><span>    i))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 异常 Exceptions</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; try catch finally </span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">try</span>
</span></span><span style="display:flex;"><span>  (/ <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">catch</span> ArithmeticException e
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;算术异常&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">finally</span>
</span></span><span style="display:flex;"><span>    (println <span style="color:#e6db74">&#34;finally块&#34;</span>))
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span><span style="color:#75715e">; throw exception</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">try</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">throw</span> (<span style="color:#a6e22e">Exception.</span> <span style="color:#e6db74">&#34;异常消息&#34;</span>))
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">catch</span> Exception e (<span style="color:#a6e22e">.getMessage</span> e))
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span><span style="color:#75715e">; Exceptions with Clojure data</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; ex-info 中使用map存储具体消息</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; 使用 ex-data 从map中取消息，没有返回nil</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">try</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">throw</span> (<span style="color:#a6e22e">ex-info</span> <span style="color:#e6db74">&#34;我们自制的一个异常消息&#34;</span> {<span style="color:#e6db74">:detail</span> <span style="color:#ae81ff">666</span>}))
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">catch</span> Exception e
</span></span><span style="display:flex;"><span>    (prn (<span style="color:#e6db74">:detail</span>(<span style="color:#a6e22e">ex-data</span> e)))
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span><span style="color:#75715e">; 666</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; nil</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; with-open 打开文件，目测与java、python的try-with-resource是一回事</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">let </span>[f (<span style="color:#a6e22e">ioWriter</span> <span style="color:#e6db74">&#34;/Users/dragonsong/Desktop/clj.txt&#34;</span>)]
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">try</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">; 写点字符进去</span>
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">.write</span> f <span style="color:#e6db74">&#34;随便写点文字&#34;</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">finally</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">; 最后关闭文件流</span>
</span></span><span style="display:flex;"><span>      (<span style="color:#a6e22e">.close</span> f)
</span></span><span style="display:flex;"><span>      )
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">let </span>[f (<span style="color:#a6e22e">clojure.java.io/writer</span> <span style="color:#e6db74">&#34;/Users/dragonsong/Desktop/clj.txt&#34;</span>)]
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">try</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">; 写点字符进去</span>
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">.write</span> f <span style="color:#e6db74">&#34;随便写点文字&#34;</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">finally</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">; 最后关闭文件流</span>
</span></span><span style="display:flex;"><span>      (<span style="color:#a6e22e">.close</span> f)
</span></span><span style="display:flex;"><span>      )
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; ➜  Desktop cat clj.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 随便写点文字%</span>
</span></span><span style="display:flex;"><span>(with-open [f (<span style="color:#a6e22e">clojure.java.io/writer</span> <span style="color:#e6db74">&#34;/Users/dragonsong/Desktop/clj.txt&#34;</span>)]
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">.write</span> f <span style="color:#e6db74">&#34;用with-open写点字符进去&#34;</span>)
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; ➜  Desktop cat clj.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; 用with-open写点字符进去%</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(with-open [f (<span style="color:#a6e22e">clojure.java.io/writer</span> <span style="color:#e6db74">&#34;/Users/dragonsong/Desktop/clj.txt&#34;</span>)]
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">.write</span> f <span style="color:#e6db74">&#34;用with-open写点字符进去&#34;</span>)
</span></span><span style="display:flex;"><span>  )
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="function">function<a hidden class="anchor" aria-hidden="true" href="#function">#</a></h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clj" data-lang="clj"><span style="display:flex;"><span>(<span style="color:#66d9ef">ns </span>function
</span></span><span style="display:flex;"><span>  (<span style="color:#e6db74">:require</span> [clojure.string <span style="color:#e6db74">:as</span> string]))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;    name   params         body</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;    -----  ------  -------------------</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>greet  [name]  (str <span style="color:#e6db74">&#34;Hello, &#34;</span> name) )
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;(def greet (fn [name] (str &#34;Hello, &#34; name))</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;defn=def+fn</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Multi-arity functions </span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>messenger
</span></span><span style="display:flex;"><span>  ([]     (<span style="color:#a6e22e">messenger</span> <span style="color:#e6db74">&#34;Hello world!&#34;</span>))
</span></span><span style="display:flex;"><span>  ([msg]  (println msg)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Variadic functions</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 可变参数，用&amp;标识可变参数的开始</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>hello [greeting <span style="color:#f92672">&amp;</span> who]
</span></span><span style="display:flex;"><span>  (println greeting who))
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; user=&gt; (hello 1 2 3 44 555)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;1 (2 3 44 555)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;nil</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;Anonymous Functions</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">fn </span> [message]  (println message) )
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;     operation (function)             argument</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; --------------------------------  --------------</span>
</span></span><span style="display:flex;"><span>(  (<span style="color:#66d9ef">fn </span>[message] (println message))  <span style="color:#e6db74">&#34;Hello world!&#34;</span> )
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Hello world!</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Anonymous function syntax</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;% is used for a single parameter 单个参数</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;%1, %2, %3, etc are used for multiple parameters 多参数绑定位置</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;%&amp; is used for any remaining (variadic) parameters 可变参数标志</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Equivalent to: (fn [x] (+ 6 x))</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">#</span>(+ <span style="color:#ae81ff">6</span> %)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Equivalent to: (fn [x y] (+ x y))</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">#</span>(+ %1 %2)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Equivalent to: (fn [x y &amp; zs] (println x y zs))</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">#</span>(println %1 %2 %<span style="color:#f92672">&amp;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">; #([%])</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; (fn [x] ([x]))</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; ;; Instead do this:</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">#</span>(vector %)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">fn </span>[x] [x])
</span></span><span style="display:flex;"><span>vector
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;Applying function apply 函数，相当于调用函数的另一种写法</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;(apply f &#39;(1 2 3 4))    ;; same as  (f 1 2 3 4)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">(apply f 1 &#39;(2 3 4))    ;; same as  (f 1 2 3 4)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">(apply f 1 2 &#39;(3 4))    ;; same as  (f 1 2 3 4)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">(apply f 1 2 3 &#39;(4))    ;; same as  (f 1 2 3 4)&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>shape [<span style="color:#f92672">&amp;</span> coords] (println <span style="color:#e6db74">&#34;coords is :&#34;</span>(<span style="color:#a6e22e">coords</span>)))
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>plotxy
</span></span><span style="display:flex;"><span>  ([shape coords]  (println (<span style="color:#a6e22e">shape</span>)<span style="color:#e6db74">&#34; and &#34;</span>(<span style="color:#a6e22e">coords</span>))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; coords is [x y]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; AVOID</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; (defn plot [shape coords]   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;   (plotxy shape (first coords) (second coords)))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>plot [shape coords]
</span></span><span style="display:flex;"><span>  (apply plotxy shape coords))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; Locals and Closures</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;      bindings     name is defined here</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;    ------------  ----------------------</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;(let  [name value]  (code that uses name))</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">let </span>[x <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>      y <span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>  (+ x y))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>capitalizeMsg [msg]
</span></span><span style="display:flex;"><span>  (<span style="color:#66d9ef">let </span>[a <span style="color:#ae81ff">7</span>
</span></span><span style="display:flex;"><span>        b <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>        c (<span style="color:#a6e22e">string/capitalize</span> msg)]
</span></span><span style="display:flex;"><span>    (println a b c)
</span></span><span style="display:flex;"><span>  ) <span style="color:#75715e">;; end of let scope</span>
</span></span><span style="display:flex;"><span>) <span style="color:#75715e">;; end of function</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>messenger-builder [greeting]
</span></span><span style="display:flex;"><span>  (<span style="color:#66d9ef">fn </span>[who] (println greeting who))) <span style="color:#75715e">; closes over greeting</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; greeting provided here, then goes out of scope</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>hello-er (<span style="color:#a6e22e">messenger-builder</span> <span style="color:#e6db74">&#34;Hello&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; greeting value still available because hello-er is a closure</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">hello-er</span> <span style="color:#e6db74">&#34;world!&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Hello world!</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Java Interop</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 对象实例化：new Widget(&#34;foo&#34;)  vs (Widget. &#34;foo&#34;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 对象方法： rnd.nextInt() vs (.nextInt rnd)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 对象字段：object.field vs (.-field object)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 静态方法：Math.sqrt(25) vs (Math/sqrt 25)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 静态字段：Math.PI vs Math/PI</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; java方法不等同于clojure函数</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 不能存储、不能传递</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 但是可以包装一层，如下：</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">fn </span>[obj] (<span style="color:#a6e22e">.length</span> obj))
</span></span><span style="display:flex;"><span><span style="color:#f92672">#</span>(<span style="color:#a6e22e">.length</span> %)
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="collection">collection<a hidden class="anchor" aria-hidden="true" href="#collection">#</a></h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">128
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clj" data-lang="clj"><span style="display:flex;"><span>(<span style="color:#66d9ef">ns </span>collection
</span></span><span style="display:flex;"><span>  (<span style="color:#e6db74">:require</span> [clojure.string <span style="color:#e6db74">:as</span> string]))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; Vector 数组list</span>
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>(get [<span style="color:#e6db74">&#34;abc&#34;</span> false <span style="color:#ae81ff">99</span>] <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>(get [<span style="color:#e6db74">&#34;abc&#34;</span> false <span style="color:#ae81ff">99</span>] <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>(get [<span style="color:#e6db74">&#34;abc&#34;</span> false <span style="color:#ae81ff">99</span>] <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; size--&gt;count</span>
</span></span><span style="display:flex;"><span>(count [<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">8</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 非法下标返回 nil</span>
</span></span><span style="display:flex;"><span>(get [<span style="color:#e6db74">&#34;abc&#34;</span> false <span style="color:#ae81ff">99</span>] <span style="color:#ae81ff">14</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 构造器</span>
</span></span><span style="display:flex;"><span>(vector <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 添加元素 conj=conjoin</span>
</span></span><span style="display:flex;"><span>(conj [<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>]<span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">6</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 不可变：clojure的集合默认不可变，使用conj函数添加元素时，返回的是一个新的集合，原数组不变</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 不可变的第二个含义：字符串、数字，使用值进行比较相等性</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>ourList [<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>])
</span></span><span style="display:flex;"><span>(conj ourList <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">6</span>)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;user=&gt; (def ourList [1 2 3])
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">#&#39;user/ourList
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">user=&gt; (conj ourList 4 5 6)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[1 2 3 4 5 6]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">user=&gt; ourList
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[1 2 3]&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; Lists 链表</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 添加元素时，链表添加到集合头部，而数组list添加到尾部</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>cards <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">10</span> <span style="color:#e6db74">:ace</span> <span style="color:#e6db74">:jack</span> <span style="color:#ae81ff">9</span>))
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 链表只能访问头部 first 或者使用rest访问除了头部的其他元素</span>
</span></span><span style="display:flex;"><span>(first cards)
</span></span><span style="display:flex;"><span>(rest cards)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 添加元素 conj==conjoin</span>
</span></span><span style="display:flex;"><span>(conj cards <span style="color:#e6db74">:queen</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; lists链表可以用来做栈 stack</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 使用peek pop来访问头部与尾部所有元素</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>stack <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">:a</span> <span style="color:#e6db74">:b</span> <span style="color:#e6db74">:c</span> <span style="color:#e6db74">:d</span>))
</span></span><span style="display:flex;"><span>(peek stack)
</span></span><span style="display:flex;"><span>(pop stack)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; Sets 集合 </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 数学上的集合；无需；元素无重复；</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 理想使用场景为判断集合中有无对应元素，或者去除某个元素</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>players <span style="color:#f92672">#</span>{<span style="color:#e6db74">&#34;周杰伦&#34;</span>,<span style="color:#e6db74">&#34;王力宏&#34;</span>,<span style="color:#e6db74">&#34;罗志祥&#34;</span>,<span style="color:#e6db74">&#34;薛之谦&#34;</span>,})
</span></span><span style="display:flex;"><span>(conj players <span style="color:#e6db74">&#34;陈建州&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 去除元素使用 disj函数 disj==disjoin</span>
</span></span><span style="display:flex;"><span>(disj players <span style="color:#e6db74">&#34;周杰伦&#34;</span>)
</span></span><span style="display:flex;"><span>(contains? players <span style="color:#e6db74">&#34;周杰伦&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; Sorted sets 有序集合</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 根据一个可排序函数进行元素排序的集合。默认以natural自然排序。</span>
</span></span><span style="display:flex;"><span>(conj (<span style="color:#a6e22e">sorted-set</span>) <span style="color:#e6db74">&#34;周杰伦&#34;</span> <span style="color:#e6db74">&#34;王力宏&#34;</span> <span style="color:#e6db74">&#34;罗志祥&#34;</span> <span style="color:#e6db74">&#34;薛之谦&#34;</span>)
</span></span><span style="display:flex;"><span>(conj (<span style="color:#a6e22e">sorted-set</span>) <span style="color:#e6db74">&#34;D&#34;</span> <span style="color:#e6db74">&#34;C&#34;</span> <span style="color:#e6db74">&#34;B&#34;</span> <span style="color:#e6db74">&#34;A&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 通过 sorted-set-by 指定排序规则</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 使用 into 把一个集合放到另一个集合</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>originalSet <span style="color:#f92672">#</span>{<span style="color:#e6db74">&#34;a&#34;</span>,<span style="color:#e6db74">&#34;B&#34;</span>,<span style="color:#e6db74">&#34;C&#34;</span>})
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>newArray [<span style="color:#e6db74">&#34;d&#34;</span>,<span style="color:#e6db74">&#34;e&#34;</span>,<span style="color:#e6db74">&#34;F&#34;</span>])
</span></span><span style="display:flex;"><span>(into originalSet newArray)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; Maps dict or hashmap结构</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>name2Score {<span style="color:#e6db74">&#34;乔治&#34;</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>                 <span style="color:#e6db74">&#34;赵总&#34;</span> <span style="color:#ae81ff">500</span>
</span></span><span style="display:flex;"><span>                 <span style="color:#e6db74">&#34;我&#34;</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>                 })
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 打印时clojure会把每一对KV之间加一个逗号，这是为了可读性设计。同时clojure中逗号与空格表示一致。</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;user=&gt; (println name2Score)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">{乔治 100, 赵总 500, 我 100}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">nil&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 下面这个map加了逗号，效果一致</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>name2ScoreWithComma {<span style="color:#e6db74">&#34;乔治&#34;</span> <span style="color:#ae81ff">100</span>,
</span></span><span style="display:flex;"><span>                 <span style="color:#e6db74">&#34;赵总&#34;</span> <span style="color:#ae81ff">500</span>,
</span></span><span style="display:flex;"><span>                 <span style="color:#e6db74">&#34;我&#34;</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>                 })
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 添加元素，使用assoc函数，其中 assoc==associate</span>
</span></span><span style="display:flex;"><span>(assoc name2Score <span style="color:#e6db74">&#34;冀哥&#34;</span> <span style="color:#ae81ff">100000</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; key如果已存在，value会直接替换</span>
</span></span><span style="display:flex;"><span>(assoc name2Score <span style="color:#e6db74">&#34;乔治&#34;</span> <span style="color:#ae81ff">100000</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 删除kv对，使用 dissoc 其中 dissoc==dissociate</span>
</span></span><span style="display:flex;"><span>(dissoc name2Score <span style="color:#e6db74">&#34;我&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 根据key获取value</span>
</span></span><span style="display:flex;"><span>(get name2Score <span style="color:#e6db74">&#34;乔治&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; clojure中的map，定义与函数一致，所以将其视作函数即可</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>directions {<span style="color:#e6db74">:north</span> <span style="color:#ae81ff">0</span>,<span style="color:#e6db74">:east</span> <span style="color:#ae81ff">1</span>,<span style="color:#e6db74">:south</span> <span style="color:#ae81ff">2</span>,<span style="color:#e6db74">:west</span> <span style="color:#ae81ff">3</span>})
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">directions</span> <span style="color:#e6db74">:north</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; key为nil时返回nil</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; user=&gt; (num2Direction nil)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; nil</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; map为nil时报NPE</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;user=&gt; (def bad-lookup-map nil)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">#&#39;user/bad-lookup-map
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">user=&gt; (bad-lookup-map 1)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Execution error (NullPointerException) at user/eval268 (REPL:1).
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">null&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 支持设置默认值</span>
</span></span><span style="display:flex;"><span>(get name2Score <span style="color:#e6db74">&#34;乔治2&#34;</span> <span style="color:#ae81ff">666</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;666</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">name2Score</span> <span style="color:#e6db74">&#34;乔治2&#34;</span> <span style="color:#ae81ff">666</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 检查是否包含：contains或者find函数</span>
</span></span><span style="display:flex;"><span>(contains? name2Score <span style="color:#e6db74">&#34;乔治&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;user=&gt; (contains? name2Score \&#34;乔治\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">true&#34;</span>
</span></span><span style="display:flex;"><span>(find name2Score <span style="color:#e6db74">&#34;我&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;[\&#34;我\&#34; 100]&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 获取keys 或者values （类似于java的entry中的内容）</span>
</span></span><span style="display:flex;"><span>(keys name2Score)
</span></span><span style="display:flex;"><span>(vals name2Score)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; 根据sets可以转成一个map，通过调用zipmap函数即可</span>
</span></span><span style="display:flex;"><span>(zipmap players (repeat <span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; {&#34;罗志祥&#34; 0, &#34;周杰伦&#34; 0, &#34;王力宏&#34; 0, &#34;薛之谦&#34; 0}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; user=&gt; (zipmap 渣男集合 (repeat 0))</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; {&#34;罗志祥&#34; 0, &#34;周杰伦&#34; 0, &#34;王力宏&#34; 0, &#34;薛之谦&#34; 0}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; user=&gt; (zipmap 渣男集合 (repeat 1))</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; {&#34;罗志祥&#34; 1, &#34;周杰伦&#34; 1, &#34;王力宏&#34; 1, &#34;薛之谦&#34; 1}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; user=&gt; (zipmap 渣男集合 (repeat 2))</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; {&#34;罗志祥&#34; 2, &#34;周杰伦&#34; 2, &#34;王力宏&#34; 2, &#34;薛之谦&#34; 2}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; todo map reduce函数</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; 合并map，使用merge函数</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>newName2Score {<span style="color:#e6db74">&#34;龙露&#34;</span> <span style="color:#ae81ff">100</span>,<span style="color:#e6db74">&#34;我&#34;</span> <span style="color:#ae81ff">100</span>})
</span></span><span style="display:flex;"><span>(merge name2Score newName2Score)
</span></span><span style="display:flex;"><span><span style="color:#75715e">; key冲突时，默认新值替换旧址</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; 可指定冲突函数，调用 merge-with</span>
</span></span><span style="display:flex;"><span>(merge-with + name2Score newName2Score)
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="depsedn">deps.edn<a hidden class="anchor" aria-hidden="true" href="#depsedn">#</a></h3>
<pre tabindex="0"><code class="language-edn" data-lang="edn">{:deps
 {clojure.java-time/clojure.java-time {:mvn/version &#34;0.3.2&#34;}}}
</code></pre><h1 id="完">完<a hidden class="anchor" aria-hidden="true" href="#完">#</a></h1>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://redolog.github.io/tags/clojure/">Clojure</a></li>
      <li><a href="https://redolog.github.io/tags/note/">note</a></li>
      <li><a href="https://redolog.github.io/tags/%E7%AC%94%E8%AE%B0/">笔记</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://redolog.github.io/posts/rd/log/translation/what-every-software-engineer-should-know-about-real-time-datas-unifying/">
    <span class="title">« Prev Page</span>
    <br>
    <span>译---日志：每个软件工程师都应该知道的有关实时数据的统一抽象</span>
  </a>
  <a class="next" href="https://redolog.github.io/posts/rd/jvm/compressed_oops/">
    <span class="title">Next Page »</span>
    <br>
    <span>ES为什么建议使用32或者26GB的堆？</span>
  </a>
</nav>


<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share Clojure学习手记 on twitter"
        href="https://twitter.com/intent/tweet/?text=Clojure%e5%ad%a6%e4%b9%a0%e6%89%8b%e8%ae%b0&amp;url=https%3a%2f%2fredolog.github.io%2fposts%2frd%2flanguage%2fclojure%2fnote%2f&amp;hashtags=Clojure%2cnote%2c%e7%ac%94%e8%ae%b0">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Clojure学习手记 on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fredolog.github.io%2fposts%2frd%2flanguage%2fclojure%2fnote%2f&amp;title=Clojure%e5%ad%a6%e4%b9%a0%e6%89%8b%e8%ae%b0&amp;summary=Clojure%e5%ad%a6%e4%b9%a0%e6%89%8b%e8%ae%b0&amp;source=https%3a%2f%2fredolog.github.io%2fposts%2frd%2flanguage%2fclojure%2fnote%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Clojure学习手记 on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fredolog.github.io%2fposts%2frd%2flanguage%2fclojure%2fnote%2f&title=Clojure%e5%ad%a6%e4%b9%a0%e6%89%8b%e8%ae%b0">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Clojure学习手记 on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fredolog.github.io%2fposts%2frd%2flanguage%2fclojure%2fnote%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Clojure学习手记 on whatsapp"
        href="https://api.whatsapp.com/send?text=Clojure%e5%ad%a6%e4%b9%a0%e6%89%8b%e8%ae%b0%20-%20https%3a%2f%2fredolog.github.io%2fposts%2frd%2flanguage%2fclojure%2fnote%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Clojure学习手记 on telegram"
        href="https://telegram.me/share/url?text=Clojure%e5%ad%a6%e4%b9%a0%e6%89%8b%e8%ae%b0&amp;url=https%3a%2f%2fredolog.github.io%2fposts%2frd%2flanguage%2fclojure%2fnote%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>

  </footer>
<div id="gitalk-container"></div>
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js"></script>
<script>
      const gitalk = new Gitalk({
            clientID: 'bc5a91c74dda1fd92a10',
            clientSecret: '99a821a1c27e5dc85ea3105bf9bba089d1b580ea',
            repo: 'blog-comment',
            owner: 'redolog',
            admin: ['redolog'],
            id: md5(location.pathname), 
            distractionFreeMode: false 
      });
      (function () {
            if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
                  document.getElementById('gitalk-container').innerHTML = 'Gitalk comments not available by default when the website is previewed locally.';
                  return;
            }
            gitalk.render('gitalk-container');
      })();
</script>


</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://redolog.github.io/">宋惠龙的博客</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
